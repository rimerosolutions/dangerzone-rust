#+TITLE: ROADMAP

* High-level TODOs:

- [X] Replicate CLI functions of the original tool, not necessarily the exact behavior ([[https://github.com/rimerosolutions/entrusted/tree/spiral01][spiral01 branch]])
- [X] "Misc." bulk fixes & changes ([[https://github.com/rimerosolutions/entrusted/tree/spiral02][spiral02 branch]])
  - [X] Eliminate CLI calls inside the container, most of the job can likely be done with libraries
  - [X] Minimal Desktop user interface via the [[https://github.com/fltk-rs/fltk-rs][FLTK]] lightweight toolkit
  - [X] Temporarily drop support for Office documents (OpenDocument, MS Office), more research for [[https://github.com/rimerosolutions/rust-calls-java][Java native libraries integration]] (few runtime errors with [[https://www.oracle.com/java/graalvm/][GraalVM]])
- [X] UI and other improvements, including tech debt and other issues ([[https://github.com/rimerosolutions/entrusted/tree/spiral03][spiral03 branch]])
- [X] Bring back Office document support via LibreOffice ([[https://github.com/rimerosolutions/entrusted/tree/spiral04][spiral04 branch]])
  - [X] Add workarounds for mime-type detection library (OpenDocument, OOXML, Legacy office format)
  - [X] Update processing logic to use libreOffice for initial PDF conversion, prior further processing
- [X] Documentation updates and compilation error fix ([[https://github.com/rimerosolutions/entrusted/tree/spiral05][spiral05 branch]])
- [X] Usability improvements and slightly better MS Windows support ([[https://github.com/rimerosolutions/entrusted/tree/spiral06][spiral06 branch]])
- [X] Online service with Web interface and remote CLI client ([[https://github.com/rimerosolutions/entrusted/tree/spiral07][spiral07 branch]])  
- [X] Look at releases for Linux, Mac OS and Windows ([[https://github.com/rimerosolutions/entrusted/tree/spiral08][spiral08 branch]])
- [X] Documentation updates ([[https://github.com/rimerosolutions/entrusted/tree/spiral09][spiral09 branch]])  
- [X] Implement conversion progress information ([[https://github.com/rimerosolutions/entrusted/tree/spiral10][spiral10 branch]])
- [X] Minimal CI/CD pipeline ([[https://github.com/rimerosolutions/entrusted/tree/spiral11][spiral11 branch]])
- [X] Provide live CD ([[https://github.com/rimerosolutions/entrusted/tree/spiral12][spiral12 branch]])
- [X] Initial support for batch conversions ([[https://github.com/rimerosolutions/entrusted/tree/spiral13][spiral13 branch]])
  - [X] In the Web user interface
  - [X] In the graphical desktop interface
  - [X] Document a simple =find-exec= workflow for the command-line client
- [X] Fix few obvious issues and then release new batch conversion feature ([[https://github.com/rimerosolutions/entrusted/tree/spiral14][spiral14 branch]] part 1)
  - [X] Do not ship an unsigned app bundle for Mac OS as it doesn't behave/work anyway
  - [X] Mitigate some of the new Desktop and Web UI bugs as much as possible
- [X] Additional release artifacts for convenience ([[https://github.com/rimerosolutions/entrusted/tree/spiral14][spiral14 branch]] part 2)
  - [X] Add DMG image for Mac OS, with the ability to still invoke external programs
  - [X] Add software installer for Windows via [[https://nsis.sourceforge.io/Main_Page][NSIS]] for now
- [X] Support application preferences ([[https://github.com/rimerosolutions/entrusted/tree/spiral15][spiral15 branch]])
- [X] Add infrastructure for message translations: English and French for now ([[https://github.com/rimerosolutions/entrusted/tree/spiral16][spiral16 branch]])  
- [X] Minor code cleanup, create artwork and rename the GitHub project ([[https://github.com/rimerosolutions/entrusted/tree/spiral17][spiral17 branch]])  

* Other improvements

- [ ] Code maintenance
  - [ ] Add automated tests (unit & integration)
  - [ ] Code cleanup and refactoring
  - [ ] More idiomatic Rust code
  - [ ] Simplify and clarify the code
- [ ] Revisit removal of LibreOffice from the container
  - [ ] Previous attempt to integrate Java and Rust haven't been that successful
  - [ ] There aren't "great + complete + free" OpenDocument libraries in either Rust or Java
  - [ ] This could lead to supporting more password protected documents, including pending PDF support
    - It's not possible to decrypt with LibreOffice CLI tools, except via UNO ([[https://manpages.ubuntu.com/manpages/bionic/man1/doc2odt.1.html][unoconv]])
    - Even if decryption is possible from shell invocation, in memory operations are preferred    
- [ ] Online Web Service
  - [ ] Serve Web UI translations at once, instead of a second request on page load
  - [ ] Use the =Content-Language= header in response (translations)    
  - [ ] Revisit notifications SSE + HTTP2, for the "Online Service"
- [ ] Investigate if specific support is required for Tails Linux    
- [ ] CI/CD
  - [ ] Transition CI/CD scrips to Github actions or TravisCI or something else?
  - [ ] Revisit Flatpak support requirements and =flatpak-spawn=
  - [ ] Adopt Git flow and delete all the spiral branches
- [ ] Hardening
  - [ ] Review container execution options (podman vs podman-remote, security options, etc.)
  - [ ] Review some of the code and read few security-related articles
  - [ ] Revisit container solution alternatives: =AppArmor=, =firejail=, =bubblewrap=
- [ ] Improved conversions
  - [ ] Parallel conversions
  - [ ] Minimal resources management to avoid exhausting computer CPU and memory
  - [ ] Cancellable conversions for those that haven't started yet
  - [ ] Custom output location for individual documents in the conversion queue
  - [ ] Support for password-protected PDF files    
- [ ] Performance
  - [ ] Mime-type detection
    - [ ] Avoid reading entire files for mimetype detections
    - [ ] Consider switching mime type libraries, but is there anything better?    
  - [ ] There're probably too many redraw operations in the Desktop UI
