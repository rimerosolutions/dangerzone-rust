#+TITLE: README

* What is this?

This repository will explore (*possibly*) other approaches for [[https://dangerzone.rocks/][Dangerzone]], a tool built by [[https://github.com/micahflee][Michah Lee]].
- The code will be maintained more or less like a *lightweight course*(??), via different Git branches (See /Envisioned Roadmap/ section).
- I intend to deploy the code as a service on my home network at some point in time (old laptop or a [[https://en.wikipedia.org/wiki/Raspberry_Pi][Raspberry Pi]] maybe)

Dangerzone allows converting suspiciuous documents (images, office, pdfs) into safe and trusted PDFs, without worrying too much about viruses or evil macros.

[[./screenshots/image.png]]

* What is required?

- *Operating System*: Linux or MacOS. Windows and BSD support will be tested soon enough.
- *Container Runtime*: [[https://podman.io/][Podman]], [[https://www.docker.com/][Docker]] or [[https://github.com/lima-vm/lima][Lima]]. For MacOS, please use either Docker or Lima, as Podman on MacOS has [[https://github.com/containers/podman/issues/8016][limitations/annoyances]] around volumes.

* Why this?

- *Personal learning*: [[https://www.rust-lang.org/][Rust]] is reasonably high-level and is not garbage collected.
- *Self-Contained tooling with no scripting*: As much as possible there should be no scripting, including running external programs (except for the frontend).
- *Workflow automation exploration*: Browser plugin, VM orchestration, Web Service, etc.
- *Optimization opportunities*: Reduced container image size with very low computer resources requirements.

* What does it look like?

** Desktop User Interface

The initial desktop user interface running on MacOS Big Sur.

[[./screenshots/gui-screenshot.png]]

** Command-Line User Interface

ËœThe command-line interface running on Void Linux.

[[./screenshots/cli-screenshot.png]]


* What is planned?

- [X] Replicate CLI functions of the original tool, not necessarily the exact behavior ([[https://github.com/rimerosolutions/dangerzone-rust/tree/spiral01][spiral01 branch]])
- [X] "Misc." bulk fixes & changes ([[https://github.com/rimerosolutions/dangerzone-rust/tree/spiral02][spiral02 branch]])
  - [X] Eliminate CLI calls inside the container, most of the job can likely be done with libraries
  - [X] Minimal Desktop user interface via the [[https://github.com/fltk-rs/fltk-rs][FLTK]] lightweight toolkit
  - [X] Temporarily drop support for Office documents (OpenDocument, MS Office), more research for [[https://github.com/rimerosolutions/rust-calls-java][Java native libraries integration]] (few runtime errors with [[https://www.oracle.com/java/graalvm/][GraalVM]])
- [X] UI and other improvements, including tech debt and other issues ([[https://github.com/rimerosolutions/dangerzone-rust/tree/spiral03][spiral03 branch]])
- [X] Bring back Office document support via LibreOffice ([[https://github.com/rimerosolutions/dangerzone-rust/tree/spiral04][spiral04 branch]])
  - [X] Add workarounds for mime-type detection library (OpenDocument, OOXML, Legacy office format)
  - [X] Update processing logic to use libreoffice for initial PDF conversion, prior further processing
- [ ] Improve MacOS support (revisit current [[https://github.com/lima-vm/lima][Lima]] integration, read about mounts/volumes with [[https://github.com/canonical/multipass][Multipass]] and [[https://github.com/containers/podman][Podman]])
- [ ] Investigate if it's possible to build the user interface on BSD systems with FTLK
- [ ] Look at releases for Linux, MacOS and Windows; CLI-only client for BSD systems?
- [ ] Look at automation scenarios and use-cases (Browser plugin, HTTP Proxy, etc.)
- [ ] Investigate container runtime support for BSD (OpenBSD, FreeBSD & NetBSD): jails and similar options?
- [ ] TBD
  
    

  
