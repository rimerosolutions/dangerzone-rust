#+TITLE: README

This is not a mature project and there are [[./ROADMAP.org][couple of pending TODOs]].

* What is this?

** Overview

=dangerzone-rust= allows converting "/potentially suspicious documents/" into safe and trusted PDFs, without worrying too much about viruses or evil macros.
- This is achieved by transforming documents inside a "lightweight sandbox" ([[https://www.ibm.com/cloud/learn/containerization][containerization]]): =containerization= itself does not provide absolute security guarantees...
- Supported file formats include PDF, common image formats, Office documents ([[https://www.office.com/][Microsoft Office]] or [[https://www.libreoffice.org/discover/what-is-opendocument/][OpenDocument]]). For Office documents, supported is limited to text documents, spreadsheets and presentations.

*NOTE*: Unless you use the live CD, you MUST install either [[https://www.docker.com/products/docker-desktop/][Docker]] or [[https://podman.io/getting-started/][Podman]] prior running the program.

[[./images/ui-screenshot.png]]

** Features

This repository is a [[https://www.rust-lang.org/][Rust]] port of [[https://dangerzone.rocks/][Dangerzone]], for experimentation purposes (/not an exact port/).
- Similarly to the original Dangerzone tool, documents or images are converted inside a "sandbox"
- Translated content whenever possible (for English and French so far)
- Support for batch conversions (sequential conversions for now)
- Optional Web interface that can act as an "online service" (multi-tenancy)
- Transparent support for large files (avoid timeouts or other user-visible issues)
- Live CD user experience for both enhanced security and convenience (=http://ip_address:13000=):
  - Extra isolation layer with a virtual machine
  - Pre-installed [[https://xebia.com/blog/podman-the-free-container-engine-alternative-to-docker/][container solution]] with no required user configuration ([[./dangerzone_httpserver][dangerzone_httpserver]])
- [[https://www.docker.com/products/docker-desktop/][Docker]] dependency alternative on Mac OS, via [[https://github.com/lima-vm/lima][Lima]]
    
* What is available?

** User interfaces

There are 3 user interfaces ([[./dangerzone_client][Desktop and CLI]], [[./dangerzone_httpserver][Web]])
- Most users will likely want the Desktop version
- If you prefer the Web interface, please download the live CD ISO for an "out of the box non-involved user experience" (/unless you'd rather setup the Web server yourself/):
  - You can run the live CD with tools such as [[https://www.qemu.org/][QEMU]], [[https://www.virtualbox.org/wiki/Downloads][VirtualBox]], [[https://docs.microsoft.com/en-us/virtualization/hyper-v-on-windows/quick-start/enable-hyper-v][Hyper-V]], [[https://www.vmware.com/nl/products/workstation-player.html][VmWare]], [[https://www.parallels.com/][Parallels]], etc.
  - The Web UI is available at =http://localhost:13000=
  - Replace =localhost= by the IP address of your virtual machine in the above-mentioned link

[[./images/screenshots.png]]

** Key components

Most users will open a document with the =dangerzone-client=:
- This doesn't install a container runtime, but will display "useful" error messages when possible
- This will automatically install the =dangerzone-container= (on demand) and generate a PDF

|-----------------------+---------------------------------------------|
| Component             | Purpose                                     |
|-----------------------+---------------------------------------------|
| [[./dangerzone_container][dangerzone_container]]  | Document processing "sandbox"               |
| [[./dangerzone_client][dangerzone_client]]     | Command-line and graphical user interfaces  |
| [[./dangerzone_httpserver][dangerzone_httpserver]] | Online service feature with a Web interface |
| [[./dangerzone_httpclient][dangerzone_httpclient]] | Command-line client for the online service  |
|-----------------------+---------------------------------------------|

** Architecture overview

Below is a high-level architecture overview, the solution relies on a container engine solution (i.e. [[https://www.docker.com/][Docker]]).

[[./images/image.png]]

* Where can I get it?

For downloads, please visit the [[https://github.com/rimerosolutions/dangerzone-rust/releases][releases page]] (64 bit operating systems).

|------------------+------------------------------------------+------------------------------|
| Operating System | Artifact                                 | Description                  |
|------------------+------------------------------------------+------------------------------|
| =Linux=          | =dangerzone-linux-amd64-<version>.tar=   | Portable binaries            |
|------------------+------------------------------------------+------------------------------|
| =Mac OS=         | =dangerzone-darwin-amd64-<version>.dmg=  | Installer with the GUI       |
|                  | =dangerzone-darwin-amd64-<version>.zip=  | Portable binaries            |
|------------------+------------------------------------------+------------------------------|
| =MS Windows=     | =dangerzone-windows-amd64-<version>.exe= | Installer with all binaries  |
|                  | =dangerzone-windows-amd64-<version>.zip= | Portable binaries            |
|------------------+------------------------------------------+------------------------------|
| =Live CD=        | =dangerzone-livecd-amd64-<version>.iso=  | Web interface deployed in VM |
|------------------+------------------------------------------+------------------------------|


* What is required?

- *Operating System*: Linux, Mac OS or Windows
  - Mostly Linux has been tested
  - BSD users can probably use the "Online service" and its Web interface
- *Container Runtime*: [[https://podman.io/][Podman]], [[https://www.docker.com/][Docker]] or [[https://github.com/lima-vm/lima][Lima]]
  - On Linux, please install Podman
  - For Windows, Docker is recommended
  - For Mac OS, /please/ use either Docker or Lima

Conversions will fail if the container solution running or available in your [[https://www.java.com/en/download/help/path.html]["PATH settings"]]:
  - The tool doesn't attempt to modify software on your machine (install Docker or other programs)
  - The tool doesn't manage other software running on your machine (start or stop services)

* What are the differences with Dangerzone?

This project is more of a hobby at this point: it lacks testing, maturity and several features.

** The good

|------------------------------------------+-----------------------------------------------------------------|
| Topic                                    | Details                                                         |
|------------------------------------------+-----------------------------------------------------------------|
| *Likely faster processing*               | Programming language difference and "1-step" conversion process |
| *Online service*                         | HTTP server with a minimal lightweight Web interface            |
| *Docker alternative on Mac OS*           | [[https://github.com/lima-vm/lima][Lima]] was tested (Only support for "default instance")           |
| *Less likelihood of conversion timeouts* | There's only one external program involved (=LibreOffice=)      |
|------------------------------------------+-----------------------------------------------------------------|
  
** The ugly

|------------------------------------------+-----------------------------------------------------------|
| Topic                                    | Details                                                   |
|------------------------------------------+-----------------------------------------------------------|
| *Likely less secure than the dangerzone* | 1 step conversion process, instead of 2 steps             |
| *This is mostly an experiment*           | Not heavily tested, even if I use =dangerzone-rust= daily |
| *Not the best code*                      | I barely /know/ =Rust=, in comparison to let's say =Java= |
| *Incomplete*                             | UI &code polishing, probably several "obvious things"     |
|------------------------------------------+-----------------------------------------------------------|

* How to contribute?

All the bugs reports, questions or suggestions are welcome and appreciated. Please note that the best way to contribute is via pull requests: this is a hobby project more than anything else at this time...
